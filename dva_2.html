<html>
<head>
    <title>D.Va Enslaved 2</title>
    <link rel="stylesheet" href="C:\wamp64\www\wampthemes\simple\style.css">
    <style>
        img { height:100% }
        a {
            color: #C0C0EF;
        }
        body{
            font-family: "Arial", Arial, Sans-Serif;
            color: #DDDDDD;
            background-color: #303030;
        }
    </style>


    <script type="text/javascript"> 
    //#336699

        var preg;
        var dude;
        var suit;
        var headpiece;
        var electrodes;
        var cum;
        var fertilized;


        if (!preg) preg = 0;
        if(!dude) dude = 0;
        if(!suit) suit = 1;
        if(!headpiece) headpiece = 1;
        if(!electrodes) electrodes = 0; //012
        if(!cum) cum = 0;

        function init(){
        }

        function setElecTo(_elec){
            electrodes = _elec;
            update();
        }
        function setBoolean(_id){
            console.log(_id);
            if(_id='preg')  preg = document.getElementById('preg').checked ? 1 : 0;
            if(_id='dude') dude = document.getElementById('dude').checked ? 1 : 0;
            if(_id='suit') suit = document.getElementById('suit').checked ? 1 : 0;
            if(_id='headpiece') headpiece = document.getElementById('headpiece').checked ? 1 : 0;
            if(_id='cum') cum = document.getElementById('cum').checked ? 1 : 0;
            //console.log("p t pl:"+p+t+pl);
            update();
        }

        function nextElec(){
            if(electrodes < 2) electrodes++;
            else {
                electrodes = 0;
            }

            update();
        }
        function prevElec(){
            if(electrodes>0) electrodes--;
            else {
                electrodes = 2;
            }
            update();
        }
        function onOff(){
            if (electrodes!=0){
                electrodes--;
                electrodes=1-electrodes;
                electrodes++;  
                update();
            }
        }

        function takeTurns(){
            document.getElementById("hiddenMessage").innerHTML=""
            if(cum==0 && dude==0 && fertilized==1){
                preg=1;
                fertilized=0;
                update();
            }
            else{
                temp=dude;
                dude=1-cum;
                cum=temp;
                if(cum==0 && dude==0 && preg==0) rollPreg();
                else update();
            }
            
        }

        function rollPreg(){
            chance=document.getElementById("chance").value;
            if(!chance) chance=0;
            roll = Math.floor((Math.random()*100)+1); //between 1 and 100
            console.log("roll: "+roll+" // chance: "+chance);
            if(roll<=chance){
                console.log("Fertilized! >:)");
                document.getElementById("hiddenMessage").innerHTML="Fertilized! >:)"
                fertilized=1;
            }
            else console.log("failed :(");
            update();
        }
        function fixChance(){
            chance=document.getElementById("chance").value;
            if(!chance || chance<0) chance=0;
            else if(chance>100) chance=100;
            document.getElementById("chance").value=chance;
        }

        function fullSuit(_suit){
            if(_suit){
                headpiece=1;suit=1;
            }
            else {
                headpiece=0;suit=0;
            }
            update();
        }

        function update(){
            fixChance();
            //console.log("Code : p"+preg+"d"+dude+"s"+suit+"h"+headpiece+"e"+electrodes+"c"+cum);
            filename="images/dva_2/p"+preg+"d"+dude+"s"+suit+"h"+headpiece+"e"+electrodes+"c"+cum+".jpg";
            document.getElementById("e"+electrodes).checked = true;
            document.getElementById("preg").checked= preg? true : false;
            document.getElementById("dude").checked= dude? true : false;
            document.getElementById("suit").checked= suit? true : false;
            document.getElementById("headpiece").checked= headpiece? true : false;
            document.getElementById("cum").checked= cum? true : false;
            document.getElementById("img").src=filename;
            document.getElementById("code").innerHTML="Code : p"+preg+"d"+dude+"s"+suit+"h"+headpiece+"e"+electrodes+"c"+cum;
        }
        window.onload = update;
    </script>

</head>
<body>

    <div style="float:right; width:65%;">
            <script type="update()"></script>
            <img id="img" src="images/dva_2/p0d0s1h1e0c0.jpg">
    </div>

    <div style="float:left; width:35%;">
    <form id="form" method="post">
        <table>
        <tr><td>Suit :</td></tr>
        <tr>
            <td>
        <input type="checkbox" id="suit" onchange="setBoolean('suit')">Legs
        <input type="checkbox" id="headpiece" onchange="setBoolean('headpiece')">Headpiece 
            </td>
            <td>
                <input type="button" onclick="fullSuit(0)" value="Nude">
                <input type="button" onclick="fullSuit(1)" value="Full">
            </td>
        </tr>


        <tr><td>Electrodes :</td></tr>
        <tr>
            <td>
                <input type="radio" name="electrodes" id="e0" value="0" onchange="setElecTo(0)">None 
                <input type="radio" name="electrodes" id="e1" value="1" onchange="setElecTo(1)">Off 
                <input type="radio" name="electrodes" id="e2" value="2" onchange="setElecTo(2)">On
            </td>
            <td>
                <input type="button" onclick="prevElec()" value="<">
                <input type="button" onclick="nextElec()" value=">">
                <input type="button" onclick="onOff()" value="on/off">
            </td>
        </tr>

        <tr><td>Other :</td></tr>
        <tr>
            <td>
                <input type="checkbox" name="dude" id="dude" onchange="setBoolean('dude')" value="1">Dude

                <input type="checkbox" name="cum" id="cum" onchange="setBoolean('cum')" value="1" >Cum

                <input type="checkbox" name="preg" id="preg" onchange="setBoolean('preg')" value="1">Pregnant
            </td>
            <td>
                <input type="button" onclick="takeTurns()" value="Take Turns">
                <span id="hiddenMessage"></span>
            </td>
        </tr>
        <tr><td>Pregnancy Chance :</td></tr>
        <tr>
            <td>
                <input type="number" id="chance" step="1" min="0" max="100" value="0" style="text-align:right;width: 4em">%
            </td>
        </tr>
        </table>

    <br>
    <span id="code">Code : s0f0g0d0c0</span>
    </form>

        <br>
        Other pages:<br><br>
        <a href="https://flapsnu.github.io/Quarian/dva.html">D.Va Enslaved</a><br>
        <a href="https://flapsnu.github.io/Quarian/page.html">Quarian Prisoner</a><br>
        Art by <a href="http://www.hentai-foundry.com/user/Throat/profile">Throat</a><br><br>
        <a href="https://github.com/Flapsnu/Quarian">Github page</a> for the project (with more info and news)
    </div>

</body>
</html>
